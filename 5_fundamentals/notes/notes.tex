% !TeX document-id = {623e3a94-4cb1-4158-99bf-bcee8b7d3f42}
%% =========================== Document class =============================
\documentclass[a4paper,11pt]{book}
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]

%% ========================= Essential packages ===========================
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage[margin=2cm]{geometry}   
%\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\usepackage{tcolorbox}
\usepackage{lineno}
\usepackage{amsmath}
\tcbuselibrary{minted,skins,breakable}
\usepackage{endnotes}
\let\footnote=\endnote


%% ============================== Tabular =================================
\usepackage{booktabs}
\usepackage{tabularx,ragged2e} 
\usepackage{array}
\usepackage{multirow}
\usepackage{siunitx}
  \sisetup{detect-all}
\usepackage{adjustbox}
\usepackage{threeparttable}
\usepackage[justification=centering]{caption}
\captionsetup[table]{labelfont=sc, labelsep=newline}
\renewcommand{\figurename}{\itshape Fig.}
\renewcommand{\thetable}{\Roman{table}}

%% ====================== To implement the Cornell ========================
\usepackage{paracol} % added <<<<<<<<<<<<<<<<<<<<<
\makeatletter
\newbox\mybox
\def\pcol@makenormalcol{%
  \ifvoid\footins 
  \else
\global\setbox\mybox\box\footins
   \fi
\setbox\@outputbox\box\@holdpg
  \let\@elt\relax
  \xdef\@freelist{\@freelist\@midlist}%
  \global\let\@midlist\@empty
  \@combinefloats}

\makeatother


%% =========================== Color options ==============================
% custom colors
\definecolor{base_c}{rgb}{0.6,0,0}
\definecolor{comp_c}{rgb}{0.09803921568627451, 0.6901960784313725, 0.7529411764705882}
\definecolor{tri_1}{rgb}{0.09803921568627451, 0.7686274509803922, 0.19215686274509805}
\definecolor{tri_2}{rgb}{0.19215686274509805, 0.09803921568627451, 0.7686274509803922}

%% =============================== Links ==================================
\usepackage[
colorlinks=true,
allcolors=base_c,
%citecolor=CadetBlue,
%urlcolor=CadetBlue
]{hyperref}%

% =========================== Utilities ===================================
\usepackage{lipsum}% generate filler text

%% ========================== Code input ==================================
\newtcblisting{pythoncode}[2][]{
  listing engine=minted,
  breakable,
  colback=green,
  colframe=black!70,
  listing only,
  minted style=tango,
  minted language=python,
  minted options={numbersep=3mm,texcl=true,#1},
  left=5mm,enhanced,
  overlay={\begin{tcbclipinterior}\fill[black!25] (frame.south west)
            rectangle ([xshift=5mm]frame.north west);\end{tcbclipinterior}},
            #2,
}

% ========================= Cornell Notes stuff ============================
% question
\newcommand{\question}[1]{% Ask the question
    \begin{tcolorbox}[colback=comp_c!10,colframe=comp_c,sidebyside align=top,width=\linewidth,before skip=1ex]
        #1
    \end{tcolorbox}%    
    \switchcolumn% now write in the right column   
}

% note
\newcommand{\note}[1]{% Add as many notes as you like
    \begin{tcolorbox}[colback=white!0,colframe=white!10,width=\linewidth,before skip=1ex]
        #1
    \end{tcolorbox}         
}   

% summary
\newcommand{\summary}[2][]{%
\begin{minipage}[b]{\textwidth}
    \vspace*{\baselineskip}
    \begin{tcolorbox}[colframe=tri_2!75,fonttitle=\large\bfseries\sffamily,
        after skip = \baselineskip,
        title=Summary]
        #2
    \end{tcolorbox}
\end{minipage}
#1}

% proportions
\setcolumnwidth{0.4\textwidth/20pt,0.60\textwidth}% column separation =20pt
\setlength{\columnseprule}{2pt} % column width
\colseprulecolor{gray}

% title
\title{%
        \begin{tcolorbox}[before skip = \baselineskip, after skip =-\baselineskip]
            \centering\Huge\sffamily SMM692\\ Introduction to Programming in Python 
        \end{tcolorbox}
}

% ============================ Document attrs ==============================
\date{}
\parindent=0pt


% ========================== Document contents ============================= 

\begin{document}
    
\maketitle  

\clearpage

\tableofcontents

\clearpage

\chapter{Organization of the Module}

$\ldots$

\chapter{Getting Started with Python}

$\ldots$

\chapter{Managing Python Environments}

$\ldots$

\chapter{Collaborative and Versioning Tools for Python}

$\ldots$

\chapter{Python Objects}

\begin{paracol}{2}
    \question{What is a Python object?} 
    \note{In essence, Python objects are pieces of data. Mark Lutz, the author of the popular book \href{https://www.google.co.uk/books/edition/Learning_Python/4pgQfXQvekcC?hl=en&gbpv=0}{Learning Python}\footnote{Lutz, Mark. \textit{Learning Python: Powerful object-oriented programming.} O'Reilly Media, Inc., 2013.}, points out \quote{\textit{in Python we do things with stuff. ``Things'' take the form of operations like addition and concatenation, and ``stuff'' refers to the objects on which we perform those operations}}. 
    }
\end{paracol}

\begin{paracol}{2}
    \question{Built-in and ad-hoc objects}
    \note{In Python, there are two families of objects: built-in objects provided by the Python language itself and ad-hoc objects --- called \href{https://docs.python.org/3/tutorial/classes.html}{classes} --- we can create to accomplish specific goals.}
\end{paracol}

\begin{paracol}{2}
    \question{Why do built-in Python objects matter?} 
    \note{
    Typically, we do not need to create ad-hoc objects. Python provides us with diverse built-in objects that make our job easier:
    \begin{itemize}
    	\item built-in objects make coding efficient and easy. For example, using the \href{https://docs.python.org/3/tutorial/introduction.html#strings}{string} object, we can represent and manipulate a piece of text --- e.g., a newspaper article --- without loading any \href{https://docs.python.org/3/tutorial/modules.html}{module}
    	\item built-in objects are flexible. For example, we can deploy built-in objects to create a \href{https://docs.python.org/3/tutorial/classes.html}{class}
    	\item built-in objects have been created and refined over time by a large community of expert developers. Hence, they are  often  more  efficient  than  ad-hoc objects (unless the creator of the ad-hoc object really knows her business!)
    \end{itemize}} 
\end{paracol}
\clearpage

\begin{paracol}{2}
    \question{The core built-in Python objects} 
	\note{Table \ref{tab:built_in_objects} illustrates the types of built-in Python objects. For example, \href{https://docs.python.org/3/tutorial/introduction.html#numbers}{Numbers} and \href{https://docs.python.org/3/tutorial/introduction.html#strings}{strings} objects are used to represent numeric and textual data respectively. \href{https://docs.python.org/3/tutorial/introduction.html#lists}{Lists} and \href{https://docs.python.org/3/tutorial/datastructures.html#dictionaries}{dictionaries} are --- likely as not --- the two most popular \href{https://docs.python.org/3/tutorial/datastructures.html}{data structures} in Python. Lists are ordered collections of other objects such (any type!!). Dictionaries are pairs of keys (e.g., a product identifier) and objects (e.g., the price of the product). No worries: we will go through each built-in type in the following sections of this document. Caveat: in the interest of logical coherence, the various built-in types will not be presented in the order adopted Table \ref{tab:built_in_objects}.} 
\end{paracol}

\begin{table}[!htbp]
\centering
\caption{Buil-In Objects in Python}
\label{tab:built_in_objects}
\begin{tabular}{@{}ll@{}}
\toprule \toprule
Object type          & Example literals/creation                                            \\ \midrule
Numbers              & 1234, 3.1415, 3+4j, 0b111, Decimal(), Fraction()                     \\
Strings              & `spam', ``Bob's'', b`a\textbackslash{}x01c', u`sp\textbackslash{}xc4m' \\
Lists                & {[}1, {[}2, `three'{]}, 4.5{]}, list(range(10))                      \\
Dictionaries         & \{`food': `spam', `taste': `yum'\}, dict(hours=10)                   \\
Tuples               & (1, `spam', 4, `U'), tuple(`spam'), namedtuple                       \\
Files                & open(`eggs.txt'), open(r`C:\textbackslash{}ham.bin', `wb')           \\
Sets                 & set(`abc'), \{`a', `b', `c'\}                                        \\
Other core types     & Booleans, types, None                                                \\
Program unit types   & Functions, modules, classes                                          \\
Implementation types & Compiled code, stack tracebacks                                      \\ \bottomrule
\end{tabular}
\end{table}

\section{Number Type Fundamentals}

\begin{paracol}{2}
    \question{Types of `number' objects} 
	\note{Example 1, ``Doing stuff with numbers,'' highlights a sample of three \href{https://docs.python.org/3/tutorial/introduction.html#numbers}{`number'} instances in Python: integers, floating-point, and complex numbers. Integers are whole numbers such as 0, 4, or -12. Floating-point numbers are the representation of real numbers such as 0.5, 3.1415, or -1.6e-19. However, floating points in Python do not have --- in general --- the same value as the real number they represent.\footnote{Floating numbers are stored in binaries with an assigned level of precision that is typically equivalent to 15 or 16 decimals.} It is worth noticing that any single number with a period `.' is considered a floating point in Python. Also, Example 1 shows that the multiplication of an integer by a floating point yields a floating point. Complex numbers such as $2+3j$ consist of a real and the imaginary part $j$, each of which is a floating point number. Besides integers, floating points, and complex numbers, Python includes fixed-precision, rational numbers, Booleans, and sets instances.} %
\end{paracol}
\clearpage

\begin{pythoncode}[linenos=true,]{colback=base_c!5, colframe=base_c, title=\sffamily Example 1 --- Doing `stuff' with numbers}
# integer addition
In [1]: 1 + 1
Out[1]: 2
	
# floating-point multiplication
In [2]: 10 * 0.5
Out[2]: 5.0
	
# 3 to the power 1000
In [3]: 1.2 + 1.2j
Out[3]: (1.2+1.2j)

\end{pythoncode}

\begin{paracol}{2}
	\question{Basic arithmetic operations in Python}
	\note{Numbers in Python support the usual mathematical operations shown in Table \ref{tab:mathematical_operations}. To use these operations, it is sufficient to launch a  Python or IPython session without any modules loaded (see Example 1).}
\end{paracol}

\begin{table}[!htbp]
\centering
\caption{Arithmetic Operations in Python}
\label{tab:mathematical_operations}
\begin{tabular}{@{}cl@{}}
\toprule \toprule
Symbol & Operation \\ \midrule
+ & Addition \\
- & Subtraction \\
* & Multiplication \\
/ & Floating point division \\
// & Integer division \\
\% & Modulus (remainder)\\
** & Exponentiation \\
\bottomrule
\end{tabular}		
\end{table}

\begin{paracol}{2}
    \question{Advanced mathematical operations}
    \note{Besides the mathematical operations included in Table \ref{tab:mathematical_operations}, there are many \href{https://docs.python.org/3/library/numeric.html}{modules shipped with Python} that carry out advanced/specific numerical analysis. For example, the \href{https://docs.python.org/3/library/math.html}{\texttt{math}} module provides access to the mathematical functions defined by the \href{https://en.wikipedia.org/wiki/C_standard_library}{C standard}.\footnote{As per the documentation of the Python programming language, \href{https://docs.python.org/3/library/math.html}{\texttt{math}} cannot be used with complex numbers.} Table \ref{tab:math_module_functions} reports a sample of these functions. To use them \href{https://docs.python.org/3/library/math.html}{\texttt{math}}, we have to import the module as shown in Example 2. Another popular module shipped with Python is \href{https://docs.python.org/3/library/random.html}{\texttt{random}}, implementing pseudo-random number generators for various distributions (see the lower section of Example 2).}
\end{paracol}

\begin{pythoncode}[linenos=true,]{colback=base_c!5, colframe=base_c, title=\sffamily Example 2 --- Advanced mathematical operations with the modules shipped with Python}
# import the math module
In [1]: import math

# base-y log of x
In [2]: math.log(12, 8)
Out[2]: 1.1949875002403856

# base-10 log of x
In [3]: math.log10(12)
Out[3]: 1.0791812460476249

# import the random module
In [4]: import random

# a draw from a normal distribution with mean = 0 and standard deviation = 1
In [5]: random.normalvariate(0, 1)
Out[5]: -0.136017752991189
\end{pythoncode}

\begin{table}[!htbp]
	\centering
	\caption{A Sample of Functions Provided by the \href{https://docs.python.org/3/library/math.html}{\texttt{math}} Module}
	\label{tab:math_module_functions}
	\begin{tabular}{ll}
		\toprule \toprule
		Function name &  Expression \\
		\midrule
		math.sqrt(x) & $\sqrt{x}$ \\
		math.exp(x) & $e^{x}$ \\
		math.log(x) & $ln{x}$ \\
		math.log(x, b) & $log_{b}(x)$ \\
		math.log10(x) & $log_{10}(x)$ \\
		math.sin(x) & $sin(x)$ \\
		math.cos(x) & $cos(x)$ \\
		math.tan(x) & $tan(x)$ \\
		math.asin(x) & $arcsin(x)$ \\
		math.acos(x) & $arccos(x)$ \\
		math.atan(x) & $arctan(x)$ \\
		math.sinh(x) & $sinh(x)$ \\
		math.cosh(x) & $cosh(x)$ \\
		math.tanh(x) & $tanh(x)$ \\
		math.asinh(x) & $arsinh(x)$ \\
		math.acosh(x) & $arcosh(x)$ \\
		math.atanh(x) & $artanh(x)$ \\
		math.hypot(x, y) & The Euclidean norm, $\sqrt{x^{2} + y^{2}}$ \\
		math.factorial(x) & $x!$ \\
		math.erf(x) & The error function at $x$ \\
		math.gamma(x) & The gamma function at $x$, $\omega(x)$ \\
		math.degrees(x) & Converts $x$ from radians to degrees \\
		math.radians(x) & Converts $x$ from degrees to radians\\
		\bottomrule 
	\end{tabular}
\end{table}
\clearpage

\section{String Type Fundamentals}

\begin{paracol}{2}
	\question{What is a string?}
	\note{A Python string is a positionally ordered collection of other objects. Sequences maintain a left-to-right order among the items they contain: their items are stored and fetched by their relative positions. Strictly speaking, strings are sequences of one-character strings; other, more general sequence types include lists and tuples, covered later.}
\end{paracol}

\begin{paracol}{2}
	\question{Is abc a Python string?}
	\note{Nope. Pythons strings are enclosed in single quotes (`...') \textit{or} double quotes (``...'') with the same result. Example }
\end{paracol}

\begin{pythoncode}[linenos=true,]{colback=base_c!5, colframe=base_c, title=\sffamily Example 3 --- Python strings as sequences}
# let us assign the string "Python 3.X" to the variable S
In [1]: S = "Python 3.X"

# check the length of S
In [2]: len(S)
Out[2]: 6

# access the first string object in the sequence behind S 	
In [3]: S[0]
Out[3]: "P"

# access the last string object in the sequence behind S
In [4]: S[-1]
Out[4]: "X"

# or, equivalently
In [5]: S[len(S)-1]
Out[5]: "X"

# access the i-th, e.g., 3rd, string object in the sequence behind S
In [6]: S[3]
Out[6]: "X"

# access string objects between the i-th and j-th positions in the sequence 
# behind S
In [7]: S[2:5]
Out[7]: "tho"

# access string objects following the i-th position in the sequence behind S
In [8]: S[-3:]
Out[8]: "3.X"

\end{pythoncode}

\begin{paracol}{2}
	\question{How do we use strings?}
	\note{Strings are used to record both textual information (your name, for instance) as well as arbitrary collections of bytes (such as an image fileâ€™s contents).}
\end{paracol}

\section{List and Dictionaries}

...


\section{Tuples, Files, and Everything Else}

...


\section{Python Statements}

...

\section{If Test}

...

\section{While and For Loops}

...

\section{Iterations and Comprehensions}

...


\theendnotes

\chapter{Technical and Scientific Computation with NumPy and SciPy}

\ldots

\chapter{Data Management with Pandas and Dask}

\ldots

\chapter{Coda}
\ldots


% ================================= Snippets ==============================
%
%\vspace*{3ex} % breaks the red line
%
%\begin{paracol}{2}  
%    \question{Here's another question.}
%    \note{\lipsum[4]}
%    \note{\lipsum[2]}   
%\end{paracol}
%
%\summary[\clearpage]{This is a longer box that will will close the question and {\Large \bfseries start a new page.} \lipsum[2]}
%
%\section{Second topic}
%
%\begin{paracol}{2}
%    \question{Here's another question to begin the new page.}   
%    \note{\lipsum[3]}
%    \note{\lipsum[4]}
%\end{paracol}
%        
%\summary{And another summary that will close the question and {\Large 
%\bfseries stay in the same page.}}
%
%\section{Another topic, several questions}
%
%\begin{paracol}{2}
%    \question{This is  question I.}     
%    \note{I The first piece of evidence is mandatory.}
%    \note{Now add up to five \ldots}%
%    \note{\ldots\ additional pieces of evidence.}
%\end{paracol}
%\vspace*{3ex} % breaks the red line
%    
%\begin{paracol}{2}
%    \question{Here's  question II.} 
%    \note{II The first piece of evidence is mandatory.}
%    \note{Now add up to five \ldots}%
%    \note{\ldots\ additional pieces of evidence.}
%\end{paracol}
%
%\clearpage% breaks the red line
%\begin{paracol}{2}
%    \question{And question III.}
%    
%    \note{III The first piece of evidence is mandatory.}
%    \note{Now add up to five\ldots}%
%    \note{\ldots\ additional pieces of evidence.}
%    \note{\ldots\ and more \ldots}
%    \note{\ldots\ and more.}
%\end{paracol}
%
%\summary{And another summary that will close the question and {\Large \bfseries stay in the same page.}}        
%
%\lipsum[1]
    
\end{document}